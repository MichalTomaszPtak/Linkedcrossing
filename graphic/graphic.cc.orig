#include <cmath>
#include <iostream>
#include "graphic_gui.h"

using namespace std;

static const Cairo::RefPtr<Cairo::Context> *ptcr(nullptr);

// local prototypes
static void set_color(Color color);
// graphic_gui.h

void graphic_set_context(const Cairo::RefPtr<Cairo::Context> &cr) {
    ptcr = &cr;
}

<<<<<<< HEAD
void draw_circle(double x,
				 double y,
				 double radius,
				 Color color,
				 bool filled,
				 double thickness) {
=======
void draw_circle(double x_pos, double y_pos, double radius, Color color, bool filled, double thickness){
>>>>>>> 68cbff2b310f7e0739bad57dcc43f3ce15b2bd5f
    (*ptcr)->set_line_width(thickness);
    set_color(color);
    (*ptcr)->arc(x, y, radius, 0, 2 * M_PI);
    if (filled) (*ptcr)->fill();
    else 		(*ptcr)->stroke();
	return;
};

<<<<<<< HEAD
void draw_rect(double x,
			   double y,
			   double width,
			   double height,
			   Color color,
			   bool filled,
			   double thickness) {
    (*ptcr)->set_line_width(thickness);
    set_color(color);
	(*ptcr)->rectangle(x, y, width, height);
    if (filled) (*ptcr)->fill();
    else 		(*ptcr)->stroke();
	return;
=======
void draw_segment(double baseX, double baseY, double endX, double endY, double thickness, Color color){
    (*ptcr)->set_line_width(thickness);
    set_color(color);

    (*ptcr)->move_to(baseX, baseY);
    (*ptcr)->line_to(endX, endY);
    (*ptcr)->stroke();

>>>>>>> 68cbff2b310f7e0739bad57dcc43f3ce15b2bd5f
}
// à compléter pour effectuer des dessins élémentaires: trait, cercle, ...


// local function
static void set_color(Color color) {
    double r(0.), g(0.), b(0.);
    switch (color) {
    case WHITE:
        r = g = b = 1;
        break;
    case GREY:
        r = g = b = 0.5;
        break;
    case BLACK:
        r = g = b = 0.;
        break;
    case RED:
        r = 1;
        break;
    case GREEN:
        g = 0.65;
        break;
    case BLUE:
        r = g = 0.65;
        b = 1;
        break;
    case ORANGE:
        r = 1;
        g = 0.65;
        break;
    case PURPLE:
        r = b = 0.65;
        break;
    case CYAN:
        g = b = 1;
        break;
    }
    (*ptcr)->set_source_rgb(r, g, b);
}
